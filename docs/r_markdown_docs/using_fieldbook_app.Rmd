---
output:
  pdf_document: default
  html_document: default
---
# Using Field Book and BreedBase for Data Collection and Storage {#Using-Field-Book-with-BreedBase}

```{r echo=FALSE, out.width='75%', fig.align='center'}
knitr::include_graphics('assets/images/FB_Section_Header.png')
```

## Introduction

**Field Book** is an open-source Android application designed to streamline phenotypic data collection, replacing traditional paper field books and reducing transcription errors.

**BreedBase** supports integration with Field Book by enabling users to generate properly formatted field layout and trait files, import collected data, and optionally exchange data via **BrAPI**. 

This section provides step-by-step guidance on preparing Field Book for data collection using trial data stored in BreedBase, including file generation, manual file import, and data export. It assumes that trial fields and trait definitions already exist in BreedBase and that users have access to an Android device.

[*Field Book User Manual*](https://fieldbook.phenoapps.org/#/)

---

## Installing Field Book

Field Book can be installed on an Android device via the Google Play Store or manually from GitHub. To ensure access to the latest features and fixes, we recommend checking for updates regularly.


### Option 1: Downloading from the Google Play Store

Download the Field Book app directly from the [Google Play Store](https://play.google.com/store/apps/details?id=com.fieldbook.tracker) or scan the QR code below.

```{r echo=FALSE, out.width='25%', fig.align='center'}
knitr::include_graphics('assets/images/QR_FieldBook_PlayStore.png')
```

[**Walkthrough: Installation and Setup**](https://scribehow.com/shared/Fieldbook_Installation_and_Initial_Setup__3E-cowQMRcOKhfRl_sqFDQ)

<iframe src="https://scribehow.com/embed/Fieldbook_Installation_and_Initial_Setup__3E-cowQMRcOKhfRl_sqFDQ?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

### Option 2: Manual Installation from Github

[**Walkthrough: Installing Field Book from GitHub**](https://scribehow.com/shared/Installing_Field_Book_from_GitHub__M0qchs3uThGb_ms2nDRg3A)

<iframe src="https://scribehow.com/embed/Installing_Field_Book_from_GitHub__M0qchs3uThGb_ms2nDRg3A?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

### Keeping Field Book Updated

Regular updates are recommended to access new features and bug fixes.

[**Walkthrough: Updating the Field Book App**](https://scribehow.com/shared/Updating_the_Field_Book_App__qdTEMk1lSkadYj8zXgOYgA).

<iframe src="https://scribehow.com/embed/Updating_the_Field_Book_App__qdTEMk1lSkadYj8zXgOYgA?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

---

## Preparing Field Layout Files in BreedBase

Field Book requires a **field layout file** containing a unique identifier for each plot or plant to be observed. Optionally, columns for row, column, pedigree, or previous phenotype data may be included for context.

BreedBase provides tools to generate layout files directly from trial metadata. These files can be exported and then uploaded to Field Book for data collection. 

[**Walkthrough: Creating a Field Layout File in BreedBase**](https://scribehow.com/shared/Creating_a_Field_Layout_File_for_Field_Book_in_Breedbase__FDBwW83OS66kHXIvVsP-1A?referrer=documents)

---

## Importing Field Layout Files into Field Book

Field layout files can be imported into Field Book via cloud storage or directly from the device. 

### Option 1: Import from Cloud Storage

Requirements:

1. A generated field layout file.
2. Linked cloud service (e.g., Google Drive) on the device.
3. File uploaded to the cloud account.

[**Walkthrough: Importing from Cloud Storage**](https://scribehow.com/shared/Importing_Field_Layout_Files_to_Field_Book_from_Cloud_Storage__5JLV59I8TzCgDeTkUPbIdA)

<iframe src="https://scribehow.com/embed/Importing_Field_Layout_Files_to_Field_Book_from_Cloud_Storage__5JLV59I8TzCgDeTkUPbIdA?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

### Option 2: Import from Local Storage Device

Requirements:

1. A generated field layout file.
2. File transferred to the Android device’s local storage.

[**Walkthrough: Importing from Local Device**](link to be added)

---

## Adding Traits to Field Book Using BreedBase

For exported data to be compatible with BreedBase, trait names in Field Book must match the exact names stored in the database.

BreedBase supports generation of **trait files** containing properly formatted trait names, types, units, and metadata.

### Creating Trait Files in BreedBase

[**Walkthrough: Creating Trait Files in BreedBase**](https://scribehow.com/shared/Creating_a_Field_Book_Trait_File_in_BreedBase__AQKYEuyXRzK1H1lRFm--3Q)

<iframe src="https://scribehow.com/embed/Creating_a_Field_Book_Trait_File_in_BreedBase__AQKYEuyXRzK1H1lRFm--3Q?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

### Importing Trait Files to Field Book

[**Walkthrough: Importing Trait Files**](https://scribehow.com/shared/Importing_Trait_Files_into_Field_Book__LuVCpgtfQCeDtWEl7xbZVw)

<iframe src="https://scribehow.com/embed/Importing_Trait_Files_into_Field_Book__LuVCpgtfQCeDtWEl7xbZVw?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

---

## Collecting and Exporting Phenotype Data

This section describes the process for recording and exporting phenotype data using the Field Book application. It assumes that the required field layout and trait files have already been imported into the app.

Users will be guided through entering phenotypic observations in the field and exporting collected data in a format compatible with downstream processing and upload to **BreedBase**. This standardized workflow helps ensure data integrity, traceability, and seamless integration with breeding databases.

### Collecting Phenotype Data in Field Book

Once field layout and trait files are loaded, data collection can begin. Field Book allows users to view each plot or plant entry, record trait values in structured forms, and automatically timestamp and geotag observations (if device settings allow).

[**Walkthrough: Collecting Data in Field Book**](https://scribehow.com/shared/Collecting_Data_in_Fieldbook__hIsZkb9xSnKcLW65gN60lA)


### Exporting Phenotype Data from Field Book and Importing to BreedBase

After data collection is complete, Field Book allows users to export data as a .csv file. This file can then be uploaded to BreedBase for storage and analysis.

[**Walkthrough: Exporting Phenotype Data from Field Book](https://scribehow.com/shared/Exporting_Phenotype_Data_in_FieldBook__ToUuuA3YTYGclEg7SDArLg)

Once exported, the .csv file can be imported into BreedBase through the trial’s data upload interface. Proceed with uploading phenotype observations as described in the **Managing Phenotypic Data** section. 

It is important that:

- Trait names match those defined in the database.
- Plot or plant identifiers align with the original layout.

---

## Using BrAPI for Data Transfer Between Field Book and BreedBase

Field Book supports integration with **BreedBase** via the **BrAPI (Breeding API)** specification. BrAPI enables direct exchange of trial metadata and phenotype observations between Field Book and BreedBase without the need for manual file uploads.

This walkthrough covers: 

- Connecting Field Book to a BrAPI-enabled BreedBase server
- Importing trial layout and traits from BreedBase to Field Book
- Exporting collected phenotype data from Field Book to BreedBase

**Prerequisites:**

- You must have a BreedBase user account with permissions to access trial and trait data.
- Your BreedBase instance must be configured with working BrAPI endpoints.
- The Field Book app must be installed on an Android device with internet access.

**Advantages of Using BrAPI:**

- Reduces manual errors from file handling.
- Supports real-time syncing of data.
- Enables remote team coordination and efficient workflows.

### Connecting Field Book to a BrAPI Server

[**Walkthrough: Connecting Field Book to a BreedBase BrAPI Server**](https://scribehow.com/shared/Enable_BrAPI_for_Field_Book_using_the_Scannable_BrAPI_Configuration__SUXsC8xKQX-rLEG-4H6BIA)

<iframe src="https://scribehow.com/embed/Enable_BrAPI_for_Field_Book_using_the_Scannable_BrAPI_Configuration__SUXsC8xKQX-rLEG-4H6BIA?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

### Importing Trials and Traits from BreedBase

[**Walkthrough: Importing Trials from BreedBase via BrAPI**](https://scribehow.com/shared/Import_Field_Trials_from_BreedBase_via_BrAPI__R4munb3fQ-OO5f-WAZRnKg)

<iframe src="https://scribehow.com/embed/Import_Field_Trials_from_BreedBase_via_BrAPI__R4munb3fQ-OO5f-WAZRnKg?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

[**Walkthrough: Importing Traits from BreedBase via BrAPI**](https://scribehow.com/shared/Import_Traits_from_BreedBase_via_BrAPI__aqvmCO8QS_eziilPrntOoA?referrer=documents)

<iframe src="https://scribehow.com/embed/Import_Traits_from_BreedBase_via_BrAPI__aqvmCO8QS_eziilPrntOoA?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

### Collecting Data

Proceed with entering phenotype observations as described in the **Collecting Phenotype Data in Field Book** section.

Ensure that:

- Trait values match expected formats (e.g., numeric, categorical).
- Observations are saved regularly during field use.

### Exporting Phenotype Data to BreedBase via BrAPI

[Sending Phenotype Data with BrAPI](https://scribehow.com/shared/Exporting_Data_with_BrAPI__PaWGH98ESQWGrXIZk5lJTQ)

<iframe src="https://scribehow.com/embed/Exporting_Data_with_BrAPI__PaWGH98ESQWGrXIZk5lJTQ?as=scrollable" width="100%" height="320" allow="fullscreen" style="border: 0; min-height: 320px"></iframe>

### Verifying Data in BreedBase

After exporting data to BreedBase via BrAPI, it is important to verify that the export was successful directly in BreedBase. 

1. Log in to your BreedBase instance.
2. Navigate to the Manage Trials or Trial Detail page for the uploaded study.
3. Confirm that:
    - Trait data appears in the Phenotype Data tab.
    - Data points align with expected plot/plant identifiers.
    - Trait units and scales match those defined in the database.
  

### Troubleshooting

- Connection fails: Ensure you have the correct BrAPI server URL and valid credentials.
- Traits do not load: Confirm that the trait exists in BreedBase.
- Upload fails: Check for internet connectivity, correct user permissions, and trait formatting errors.


