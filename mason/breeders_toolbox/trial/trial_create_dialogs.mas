
<%args>
$locations
$breeding_programs
</%args>

<& /util/import_javascript.mas, classes => [ 'CXGN.TrialTreeFolders', 'd3.d3v4Min.js' ] &>

<style>
#container_field_map_view {display: none; }
#d3legend {display: none}
#no_map_view_MSG {display: none; }

#container_fm {
    //border:2px dashed #000;
    height: 390px;
    width: 700px;
    overflow: auto;
    //overflow: scroll;
    display: none;
    margin: 10px;
}

rect.bordered {
    stroke: #E6E6E6;
    stroke-width:2px;   
  }

  text.mono {
    font-size: 9pt;
    font-family: Consolas, courier;
    fill: #aaa;
  }

  text.axis-workweek {
    fill: #000;
  }

  text.axis-worktime {
    fill: #000;
  }
  
  .legend { list-style: none; }
  .legend li { float: left; margin-right: 10px; }
  .legend span { border: 1px solid #ccc; float: left; width: 12px; height: 12px; margin: 2px; }

  .legend .d3_block_even_number { background-color: #c7e9b4; }
  .legend .d3_block_odd_number { background-color: #41b6c4; }
  .legend .d3_checks { background-color: #081d58; }
  .legend .d3_rep_even_number { background-color: red; height: 8px; width: 18px;}
  .legend .d3_rep_odd_number { background-color: green; height: 8px; width: 18px;}

</style>

<div class="modal fade" id="add_project_dialog" name="add_project_dialog" tabindex="-1" role="dialog" aria-labelledby="addProjectDialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addProjectDialog">Design New Trial</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <form class="form-horizontal" role="form" method="post" enctype="multipart/form-data" encoding="multipart/form-data" id="create_new_trial_form" name="create_new_trial_form">
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Trial Name: </label>
                            <div class="col-sm-9">
                                <input class="form-control" id="new_trial_name" name="new_trial_name" type="text" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Breeding Program: </label>
                            <div class="col-sm-9">
                                <select class="form-control" id="select_breeding_program" name="select_breeding_program">
                                <%perl>foreach my $program (@$breeding_programs) {
                                    print "<option value='".@$program[1]."'>".@$program[1]."</option>"; }
                                </%perl>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Location: </label>
                            <div class="col-sm-9">
                                <select class="form-control" id="add_project_location" name="add_project_location">
                                <%perl>foreach my $location (@$locations) { print "
                                    <option value=".'"'.@$location[1].'"'.">".@$location[1]."</option>"; }
                                </%perl>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Trial Type: </label>
                            <div class="col-sm-9">
                                <select class="form-control" id="add_project_type" name="add_project_type" type="text">
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Year: </label>
                            <div class="col-sm-9">
                                <select class="form-control" id="add_project_year" name="add_project_year" type="text"></select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Description: </label>
                            <div class="col-sm-9">
                                <textarea class="form-control" id="add_project_description" name="add_project_description" ></textarea>
                            </div>
                        </div>

                        <div id="format_type_radio" style="display: none">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Create Using Trial Design Tool: </label>
                                <div class="col-sm-10">
                                    <input type="radio" class="format_type" id="format_radio3" name="radio" value="create_with_design_tool" checked="checked" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Create From Uploaded File: </label>
                                <div class="col-sm-10">
                                    <input type="radio" class="format_type" id="format_radio2" name="radio" value="create_with_upload" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Create Empty Trial: </label>
                                <div class="col-sm-10">
                                    <input type="radio" class="format_type" id="format_radio1" name="radio" value="empty" />
                                </div>
                            </div>
                        </div>

                        <div id="get_file_upload_data" style="display: none">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Upload File: </label>
                                <div class="col-sm-10">
                                    <input type="file" name="trial_upload_file" id="trial_upload_file" encoding="multipart/form-data" />
                                </div>
                            </div>
                        </div>

                        <div id="trial_design_info" style="display: none">
                            <hr>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Design Type: </label>
                                <div class="col-sm-9">
                                    <select class="form-control" id="select_design_method" name="select_design_method">
                                        <option title="generates completely a randomized design with equal or different repetition, using the methods of random number generation in R." value=CRD>Completely Randomized</option>
                                        <option title="generates Randomized Complete Block Design, using the methods of random number generation in R." value=RCBD>Complete Block</option>
                                        <option title="creates alpha designs starting from the alpha design fixing under the 4 series formulated by Patterson and Williams." value=Alpha>Alpha Lattice</option>
                                        <option title="SIMPLE and TRIPLE lattice designs. It randomizes treatments in K x K lattice." value=Lattice>Lattice</option>
                                        <option title="some  treatments  (checks)  are  replicate  r  times  and  other  treatments  (new)  are replicated once." value=Augmented>Augmented</option>
                                        <option title="Adjustments are calculated using data from all checks" value=MAD>Modified Augmented Design </option>
                                        <option title="A greenhouse/nursery houses plants in no particular layout design." value="greenhouse" >Nursery/Greenhouse </option>
                                        <option title="Split plot designs are useful for applying treatments to subplots of a plot. If you give three treatments, there will be three subplots with the treatment distributed randomly among them." value="splitplot">Split Plot</option>
                                        <option title="Have some treatments that are unreplicated and rely on replicated treatments to make the trial analysable. It is recommended that at least 20% of the experimental units are occupied by replicated treatments." value=p-rep>Partially Replicated</option>
                                        <!--<option value=MADIII>MADIII</option>-->
                                        <!--<option value=MADIV>MADIV</option>-->
                                        <!--<option value=MADV>MADV</option>-->
                                    </select>
                                    <div id="prephelp" style="display: none"> <button type="button" class="btn btn-link" data-toggle="modal" data-target="#partial_rep_help_dialog">Usage Help <span class="glyphicon glyphicon-question-sign"></span></button> </div>
                                </div>
                            </div>
                        </div>

                        <div id="trial_design_more_info" style="display: none">
                            <div class="well well-sm">
                                <center><h4>Which accessions will be in the field?</h4></center>
                                <hr>
                                <div class="form-group form-group-sm" id="show_list_of_accession_section" >
                                    <label class="col-sm-7 control-label">List of accessions to include (required):</label>
                                    <div class="col-sm-5" id="select_list" name="select_list">
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="show_list_of_checks_section" style="display: none" >
                                    <label class="col-sm-7 control-label">List of checks to include (required): </label>
                                    <div class="col-sm-5" id="list_of_checks_section" >
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="crbd_show_list_of_checks_section" style="display: none" >
                                    <label class="col-sm-7 control-label">List of checks to include. Checks list should be separate from accessions list. (optional): </label>
                                    <div class="col-sm-5" id="crbd_list_of_checks_section" >
                                    </div>
                                </div>

                                <div class="form-group form-group-sm" id="show_list_of_unrep_accession" style="display: none" >
                                    <label class="col-sm-7 control-label">List of unreplicated accession (required):</label>
                                    <div class="col-sm-5" id="list_of_unrep_accession"  >
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="show_list_of_rep_accession" style="display: none" >
                                    <label class="col-sm-7 control-label">List of replicated accession (required): </label>
                                    <div class="col-sm-5" id="list_of_rep_accession" >
                                    </div>
                                </div>
                                <center>Need to create a list of accessions?&nbsp;&nbsp;&nbsp;&nbsp;<button name="lists_link" class="btn btn-default btn-sm" style="margin:6px 0px 0px 0px" type="button" >Manage Lists</button></center>
                            </div>
                            <div class="well well-sm">
                                <center><h4>Which seedlots will you grow in the field? <small>This is optional and can be decided later.</small></h4></center>
                                <hr>
                                <div class="form-group form-group-sm" id="show_list_of_seedlots_section" >
                                    <label class="col-sm-7 control-label">List of seedlots for selected accessions (optional):</label>
                                    <div class="col-sm-5" id="select_seedlot_list" name="select_seedlot_list">
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="show_num_seed_per_plot_section" >
                                    <label class="col-sm-7 control-label">Number of seeds per plot (required if seedlot list given):</label>
                                    <div class="col-sm-5">
                                        <input type="number" class="form-control" id="num_seed_per_plot" name="num_seed_per_plot" />
                                    </div>
                                </div>
                                <center>Need a list of seedlots for the selected accessions?&nbsp;&nbsp;&nbsp;&nbsp;<button name="convert_accessions_to_seedlots" class="btn btn-default btn-sm" style="margin:6px 0px 0px 0px" type="button" >Search Seedlots for Accessions</button></center>
                            </div>

                            <div class="form-group form-group-sm" id="show_no_of_row_in_design" style="display: none" >
                                <label class="col-sm-7 control-label">Number of rows in design: </label>
                                <div class="col-sm-5"  >
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="glyphicon glyphicon-qrcode"></i></span>
                                        <input class="form-control" id="no_of_row_in_design" name="no_of_row_in_design" placeholder="26"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" id="show_no_of_col_in_design" style="display: none" >
                                <label class="col-sm-7 control-label">Number of columns in design : </label>
                                <div class="col-sm-5"  >
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="glyphicon glyphicon-qrcode"></i></span>
                                        <input class="form-control" id="no_of_col_in_design" name="no_of_col_in_design" placeholder="26"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" id="show_no_of_rep_times" style="display: none" >
                                <label class="col-sm-7 control-label">Number of times replicated accessions are replicated: </label>
                                <div class="col-sm-5"  >
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="glyphicon glyphicon-qrcode"></i></span>
                                        <input class="form-control" id="no_of_rep_times" name="no_of_rep_times" placeholder="4"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" id="show_no_of_block_sequence" style="display: none" >
                                <label class="col-sm-7 control-label">Block sequence: </label>
                                <div class="col-sm-5" >
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="glyphicon glyphicon-qrcode"></i></span>
                                        <input class="form-control" id="no_of_block_sequence" name="no_of_block_sequence" placeholder="13, 2"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-group-sm" id="show_no_of_sub_block_sequence" style="display: none" >
                                <label class="col-sm-7 control-label">Sub-block sequence: </label>
                                <div class="col-sm-5" >
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="glyphicon glyphicon-qrcode"></i></span>
                                        <input class="form-control" id="no_of_sub_block_sequence" name="no_of_sub-block_sequence" placeholder="13, 1"/>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group form-group-sm" id="greenhouse_default_num_plants_per_accession" style="display: none">
                                <label class="col-sm-7 control-label">Default Number of Plants: </label>
                                <div class="col-sm-5" >
                                    <input class="form-control" type="text" id="greenhouse_default_num_plants_per_accession_val" placeholder="1" value="1" />
                                </div>
                            </div>
                            <div class="form-group form-group-sm" id="greenhouse_num_plants_per_accession_section" style="display: none" >
                                <hr>
                                <center><h4>Number of Plants:</h4></center>
                                <div id="greenhouse_num_plants_per_accession" >
                                </div>
                            </div>

                            <div id="design_info" name="design_info">
                                <div class="form-group form-group-sm" id="rep_count_section" style="display: none">
                                    <label class="col-sm-7 control-label">Number of replicates (required): </label>
                                    <div class="col-sm-5" >
                                        <input class="form-control" id="rep_count" name="rep_count" />
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="block_number_section" style="display: none">
                                    <label class="col-sm-7 control-label">Number of blocks (required): </label>
                                    <div class="col-sm-5" >
                                        <input class="form-control" id="block_number" name="block_number" />
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="row_number_section" style="display: none">
                                    <label class="col-sm-7 control-label">Number of field rows (Required): </label>
                                    <div class="col-sm-5" >
                                        <input class="form-control" id="row_number" name="row_number" />
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="row_number_per_block_section" style="display: none">
                                    <label class="col-sm-7 control-label">Number of Rows Per Block (Optional): </label>
                                    <div class="col-sm-5" >
                                        <input class="form-control" id="row_number_per_block" name="row_number_per_block" />
                                    </div>
                                </div>

                                <div id="create_trial_with_treatment_section" style="display: none">
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Subplot 1 Treatment Name: </label>
                                        <div class="col-sm-5" >
                                            <input class="form-control" id="create_trial_with_treatment_name_input1" name="create_trial_with_treatment_name_input1" type="text" value="Control" placeholder="Required Treatment 1"/>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Subplot 2 Treatment Name: </label>
                                        <div class="col-sm-5" >
                                            <input class="form-control" id="create_trial_with_treatment_name_input2" name="create_trial_with_treatment_name_input2" type="text" placeholder="Required Treatment 2"/>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Subplot 3 Treatment Name: </label>
                                        <div class="col-sm-5" >
                                            <input class="form-control" id="create_trial_with_treatment_name_input3" name="create_trial_with_treatment_name_input3" type="text" placeholder="Optional Treatment 3"/>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Subplot 4 Treatment Name: </label>
                                        <div class="col-sm-5" >
                                            <input class="form-control" id="create_trial_with_treatment_name_input4" name="create_trial_with_treatment_name_input4" type="text" placeholder="Optional Treatment 4"/>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group form-group-sm" id="num_plants_per_plot_section" style="display: none">
                                    <label class="col-sm-7 control-label">Number of Plants Per Treatment (required): </label>
                                    <div class="col-sm-5" >
                                        <input class="form-control" id="num_plants_per_treatment" name="num_plants_per_treatment" />
                                    </div>
                                </div>

                                <div id="other_parameter_section" style="display:none">
                                    <hr>
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label">Show optional parameters: </label>
                                        <div class="col-sm-8" >
                                            <input type="checkbox" id="show_other_parameter_options" />
                                        </div>
                                    </div>

                                    <div id="other_parameter_options" style="display:none">
                                        <div class="form-group form-group-sm">
                                            <label class="col-sm-7 control-label">Column number per block: </label>
                                            <div class="col-sm-5" >
                                                <input type="text" class="form-control" id="col_number_per_block" name="col_number_per_block" />
                                            </div>
                                        </div>
                                        <div class="form-group form-group-sm">
                                            <label class="col-sm-7 control-label">Number of field columns: </label>
                                            <div class="col-sm-5" >
                                                <input type="text" class="form-control" id="col_number" name="col_number" />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group form-group-sm" id="block_size_section" style="display: none">
                                    <label class="col-sm-7 control-label">Block size (required): </label>
                                    <div class="col-sm-5" >
                                        <input type="text" class="form-control" id="block_size" name="block_size" />
                                    </div>
                                </div>
                                <div class="form-group form-group-sm" id="max_block_size_section" style="display: none">
                                    <label class="col-sm-7 control-label">Maximum block size (required): </label>
                                    <div class="col-sm-5" >
                                        <input type="text" class="form-control" id="max_block_size" name="block_size" />
                                    </div>
                                </div>

                                <hr>
                                <div class="form-group"  id="FieldMap">
                                    <label class="col-sm-4 control-label">Field map display: </label>
                                    <div class="col-sm-8" >
                                        <input type="checkbox" id="show_field_map_options" />
                                    </div>
                                </div>

                                <div id="field_map_options" style="display: none">
                                    <!--<div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Number of columns per row (uses accession number by default): </label>
                                        <div class="col-sm-5" >
                                            <input type="text" class="form-control" id="fieldMap_col_number" name="fieldMap_col_number" />
                                        </div>
                                    </div> -->
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Number of rows (optional): </label>
                                        <div class="col-sm-5" >
                                          <input type="text" class="form-control" id="fieldMap_row_number" name="fieldMap_row_number" />
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Plot layout format: </label>
                                        <div class="col-sm-5" >
                                          <select class="form-control" id="plot_layout_format" name="plot_layout_format">
                                            <option value="">select plot layout format</option>
                                            <option value=zigzag>Zigzag(unserpentine)</option>
                                            <option value=serpentine>Serpentine</option>
                                          </select>
                                        </div>
                                    </div>
                                </div>

                                <hr>
                                <div class="form-group" >
                                    <label class="col-sm-4 control-label">Custom plot naming/numbering: </label>
                                    <div class="col-sm-8" >
                                        <input type="checkbox" id="show_plot_naming_options" />
                                    </div>
                                </div>

                                <div id="plot_naming_options" style="display: none">
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Plot prefix: </label>
                                        <div class="col-sm-5" >
                                            <input type="text" class="form-control" id="plot_prefix" name="plot_prefix" />
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Plot start number: </label>
                                        <div class="col-sm-5" >
                                            <input type="text" class="form-control" id="start_number" name="start_number" />
                                        </div>
                                    </div>
                                    <div class="form-group form-group-sm" >
                                        <label class="col-sm-7 control-label">Plot number increment: </label>
                                        <div class="col-sm-5" >
                                            <input type="text" class="form-control" id="increment" name="increment" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" name="new_trial_submit" id="new_trial_submit">Design Trial (Saving Occurs In Next Step)</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="add_trial_error_display" name="add_trial_error_display" tabindex="-1" role="dialog" aria-labelledby="addTrialErrorDialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addTrialErrorDialog">Errors In Creating Trial</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <table>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="trial_design_confirm" name="trial_design_confirm" tabindex="-1" role="dialog" aria-labelledby="addTrialConfirmDialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addTrialConfirmDialog">Confirm Trial Design</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <p><span class="ui-icon ui-icon-check"></span>Trial Is Valid<br>The following trial will be added</p>
                    <button class="btn btn-info btn-sm" id="view_trial_layout_button" >View Trial Layout</button>
                    <hr>
                    <div id="trial_design_information">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" name="new_trial_add_treatments" >Add Field Management Factor(s) to Design</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" name="new_trial_confirm_submit" id="new_trial_confirm_submit">Confirm (Saves Trial In Database)</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="trial_design_view_layout" name="trial_design_view_layout" tabindex="-1" role="dialog" aria-labelledby="addTrialDesignViewDialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addTrialDesignViewDialog">Trial Design Layout</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <center><p>Check to confirm that your design looks good. If there are any problems you can redo the randomization step.</p></center>
                    <p></br><div class="d3_legend" id="d3_legend"> <p></br>  &nbsp;&nbsp; <ul class="legend">
                      <li><span class="d3_block_even_number"></span> Even Block Numbers (e.g. 2,4,...)</li>
                      <li><span class="d3_block_odd_number"></span> Odd Block Numbers (e.g. 1,3,...)</li>
                      <li><span class="d3_checks"></span> Checks</li>
                      <li><span class="d3_rep_odd_number"></span> Odd Rep Numbers (e.g. 1,3,...)</li>
                      <li><span class="d3_rep_even_number"></span> Even Rep Numbers (e.g. 2,4,...)</li>
                    </div>
                    <div id="container_field_map_view" ></div>
                    <div id="no_map_view_MSG" >No field map to display...</div>
                    <div id="trial_design_view_layout_return">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-info btn-sm" id="redo_trial_layout_button" >Redo Randomization</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<& /breeders_toolbox/trial/add_trial_treatment_dialogs.mas &>


<div class="modal fade" id="trial_saved_dialog_message" name="trial_saved_dialog_message" tabindex="-1" role="dialog" aria-labelledby="addTrialSavedDialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addTrialSavedDialog">Trial Saved</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <p>
                        <span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>
                        The trial was saved successfully
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="trial_saved_dialog_message_ok_button" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="partial_rep_help_dialog" name="partial_rep_help_dialog" tabindex="-1" role="dialog" aria-labelledby="partialRepHelpDialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="partialRepHelpDialog">Partially Replicated Design Usage Help</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <p>
                        <h4>
                        <span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>
                          <b>Background:</b>
                        </h4>
                          <center><p>Partially replicated designs have some treatments that are unreplicated and rely on replicated treatments to make the trial analysable. The design were described in Cullis et al. (2006). It is recommended that at least 20% of the experimental units are occupied by replicated treatments. The aim of these experiments is usually to select promising treatments from a set of replicated and unreplicated test treatments, with check and quality standard treatments providing the necessary replication overall to give a valid experiment. DiGGer (Coombes, 2002) was used to implement this design. DiGGer is a flexible tool for creating experimental designs that are efficient for specified blocking and correlation patterns. DiGGer package (http://www.austatgen.org/files/software/downloads) is an add-on for the statistical computing language and environment R (R
Development Core Team, 2009).</p></center>
                        <h4>
                        <span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>
                        <b>Design Parameters:</b>
                        </h4>
                            <center><p> The parameters will consider a sample partially replicated design trial with 200 unreplicated accessions, 119 accessions replicated 4 times, 26 rows in design, 26 columns in design, bock sequence of 13 by 2 (13, 2) i.e 2 blocks with each having 13 rows; sub-block sequence of block of 13 by 1 (13, 1) i.e 1 sub-block with each having 13 rows in each block. </p></center>

                        <dl>
                            <dt>List of Unreplicated Accession</dt>
                            <ul>
                                <li>
                                    <dd> You're expected to provide the list of unreplicated accessions in this selectbox. E.g. is a list of 200 accessions.</dd>
                                </li>
                            </ul>
                            <dt>List of Replicated Accession</dt>
                            <ul>
                                <li>
                                    <dd>List of replicated accessions should be provided in this selectbox. E.g. is a list of 119 accessions.</dd>
                                </li>
                            </ul>
                            <dt>Number of rows in design</dt>
                            <ul>
                                <li>
                                    <dd> Provide the number of rows you want to have in the design. E.g. 26 number of rows. </dd>
                                </li>
                            </ul>
                            <dt>Number of Columns in Design</dt>
                            <ul>
                                <li>
                                    <dd> Provide the number of columns you want to have in the design. E.g. 26 number of columns. </dd>
                                </li>
                            </ul>
                            <dt>Number of Times Replicated Accessions are Replicated</dt>
                            <ul>
                                <li>
                                    <dd>Provide the number of times you want the replicated accessions to be replicated. E.g. 4</dd>
                                </li>
                            </ul>
                            <dt>Block Sequence</dt>
                            <ul>
                                <li>
                                    <dd>The block sequence should reflect the blocking structure of your design. E.g. (13, 2), meaning the design has 2 blocks and each block has 13 rows.</dd>
                                </li>
                            </ul>
                            <dt>Sub-block Sequence</dt>
                            <ul>
                                <li>
                                    <dd>The sub-block sequence should reflect the sub-blocking structure of your design. E.g. (13, 1), meaning the design has 1 sub-block (column) and each sub-block has 13 rows.</dd>
                                </li>
                            </ul>
                        </dl>
                        <h4>
                            <span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>
                            <b>NOTE:</b>
                        </h4>
                        <dl><dt>
                        <ul>
                            <li>
                                <dd>The product of the number of rows and columns in the design should equal the total number of plots.</dd>
                            </li>
                            <li>
                                <dd>The sum of the unreplicated accessions and the replicated accessions (given the number of times it was replicated) should equal the total number of plots. </dd>
                            </li>
                        </ul>
                        </dt></dl>

                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="partial_rep_usage_dialog_ok_button" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
